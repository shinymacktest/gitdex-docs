---
title: "Build and Installation"
description: "Details the process of building and installing the Wall-E project."
sidebar_position: 7
---

---
title: "Build and Installation"
description: "Details the process of building and installing the Wall-E project."
---

# Build and Installation

This document details the process of building and installing the Wall-E project, an embedded systems project designed for the ESP32. It provides step-by-step instructions for Windows, Linux, and MacOS operating systems.

## Table of Contents

* [For Windows](#for-windows)
* [For Linux](#for-linux)
* [For MacOS](#for-macos)
* [Commands](#commands)

## For Windows

The primary requirement is the ESP-IDF v5.2.

### Step 1: Download the ESP-IDF Installer

Download the offline installer from [Espressif's website](https://dl.espressif.com/dl/esp-idf/?idf=5.2). The offline version is recommended.

### Step 2: Run the Installer

Accept the agreement and proceed through the installation wizard. Keep the default installation path for simplicity.

### Step 3: Component Selection

Maintain the default component selection during installation.

### Step 4: Install

Click 'Install' and wait for the process to complete.

### Step 5: Post-Installation

Ensure all checkboxes are selected before clicking 'Finish.' This includes opening the ESP-IDF PowerShell environment.

### Step 6: Verify Installation

Confirm the ESP-IDF PowerShell environment opens successfully.

### Step 7: Open ESP-IDF 5.2 PowerShell

Locate and open the "ESP-IDF 5.2 PowerShell" shortcut, usually found on your desktop.

### Step 8: Clone the Wall-E Git Repository

Use the following commands within the ESP-IDF PowerShell to clone the Wall-E repository:

```powershell
cd ~
mkdir Projects
cd Projects
git clone https://github.com/SRA-VJTI/Wall-E --recursive --depth 1
cd Wall-E
```

This clones the repository recursively, ensuring all submodules are included. The `--depth 1` flag performs a shallow clone, reducing download size and time. [View on GitHub](https://github.com/SRA-VJTI/Wall-E/blob/master/.)

**Pro Tip**: `cd ~/Projects/Wall-E` takes you to the Wall-E directory, where all the code is located.

## For Linux

### Step 1: Download the Installation Script

Open a terminal and verify `curl` is installed. If not, install it using your distribution's package manager:

```sh
# For Debian / Ubuntu based distributions
sudo apt install curl

# For Red Hat Enterprise Linux / Fedora based distributions
sudo dnf install curl

# For Arch based distributions
sudo pacman -S curl
```

Then, download the installation script:

```sh
cd $HOME
curl https://raw.githubusercontent.com/SRA-VJTI/Wall-E/refs/heads/master/wall_e_install.sh -o $HOME/wall_e_install.sh
```
[View on GitHub](https://github.com/SRA-VJTI/Wall-E/blob/master/wall_e_install.sh)

### Step 2: Execute the Installation Script

Make the script executable and run it:

```sh
chmod +x $HOME/wall_e_install.sh
./wall_e_install.sh && source $HOME/."${SHELL#${SHELL%/*}/}"rc
```

This script automates the installation of the ESP-IDF toolkit and clones the Wall-E repository.  The `source` command ensures the environment variables are properly set.

## For MacOS

### Step 1: Open the Terminal

Open the terminal application. For M1 Macs, consult [this video](https://youtu.be/9W8rTTE1WEA) for specific instructions.

### Step 2: Download and Execute the Installation Script

Download and run the installation script using the following commands:

```sh
curl https://raw.githubusercontent.com/SRA-VJTI/Wall-E/refs/heads/master/wall_e_install.sh -o wall_e_install.sh
sudo chmod +x wall_e_install.sh
./wall_e_install.sh
```
[View on GitHub](https://github.com/SRA-VJTI/Wall-E/blob/master/wall_e_install.sh)

When prompted for a password, enter your administrator password. Note that the input will not be visible.

### Step 3: Test the Installation

Test the installation by running the hello_world example:

```sh
cd ~/esp/esp-idf/examples/get-started/hello_world
idf.py flash monitor
```

If this runs without errors, log out and log back in. Ensure your ESP32 is connected before executing the commands.

### Step 4: Navigate to the Wall-E Repository

The installation script automatically clones the Wall-E repository to your home directory. Navigate to it:

```sh
cd $HOME
cd Wall-E
```

## Commands

This section details the basic procedure for compiling and flashing code to the ESP32.

### Step 1: Start a Project

Prepare your application for the ESP32.

*   For Linux/MacOS:

    ```sh
    get_idf # To use esp-idf commands
    ```

    ```sh
    cd ~/esp
    cp -r ~/esp/esp-idf/examples/get-started/hello_world .
    ls
    ```

*   For Windows:

    ```powershell
    cd ~/Projects/Wall-E/1_led_blink
    ```

### Step 2: Connect Your Device

Connect your ESP32 board and identify the serial port.

*   Linux: `/dev/ttyUSB0` or similar
*   MacOS: `/dev/cu.usbserial-0001` or similar
*   Windows: `COM1` or similar

On Windows, check Device Manager (search in the taskbar) under "Ports (COM & LPT)" to identify the correct COM port.

If you cannot see Ports after connecting the board, follow the steps outlined in [this article](https://support-bradyid.force.com/s/article/Ports-COM-LPT-Not-Showing-in-Device-Manager).

### Step 3: Configure

*   For Linux/MacOS:

    ```sh
    cd ~/esp/esp-idf/examples/get-started/hello_world #Navigating to the file
    idf.py set-target esp32 #Command for Setting the Target
    idf.py menuconfig # Command for Opening the Configuration Menu
    ```

*   For Windows:

    ```powershell
    idf.py set-target esp32 #Command for Setting the Target
    idf.py menuconfig #Command for Opening the Configuration
    ```

    This opens a configuration menu allowing you to customize the project settings.

### Step 4: Build the Project

Build the project:

```sh
idf.py build #Command for building the code
```

This compiles the application and generates the necessary binaries.

### Step 5: Flash onto the Device

Flash the binaries to the ESP32:

```sh
idf.py -p PORT flash
```

Replace `PORT` with the correct serial port for your system (e.g., `/dev/ttyUSB0`, `/dev/cu.usbserial-0001`, `COM1`).

If flashing fails, try pressing the BOOT button on the ESP32 and then running the flash command.

### Step 6: Monitor the Output

Monitor the output from the ESP32:

```sh
idf.py flash monitor
```
This command flashes the code onto the esp32 and opens the serial monitor.

<br/>





```mermaid
graph TD
    subgraph installation_process "Installation Process"
    A["Download ESP-IDF"] -->|"Offline Version"| B("Run Installer");
    B --> C("Clone Wall-E Repo");
    C --> D("Configure Project");
    D --> E("Build Project");
    E --> F("Flash to ESP32");
    F --> G("Monitor Output");
    end

```



## Key Integration Points

The `wall_e_install.sh` script automates the setup process. This script simplifies the integration of all required components.  Regularly updating the ESP-IDF and Wall-E repository ensures you have the latest features and bug fixes.

The `validate_install_script.yml` file ensures the installation script is working and up-to-date in a continuous integration environment.[View on GitHub](https://github.com/SRA-VJTI/Wall-E/blob/master/.github/workflows/validate_install_script.yml)

```yaml
name: Validate Install Script

on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Run install script
        run: |
          chmod +x ./wall_e_install.sh
          ./wall_e_install.sh
```
This workflow runs the install script to check if any error comes up.

This comprehensive guide should enable you to successfully build and install the Wall-E project.
```