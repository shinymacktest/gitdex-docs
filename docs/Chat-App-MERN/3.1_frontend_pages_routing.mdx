---
title: "Frontend Pages & Routing"
description: "Describes the main application views and navigation flow within the React application."
---

# Frontend Pages & Routing
<TOC />

The frontend of the application is built with React and utilizes `react-router-dom` for defining and managing the application's various views and navigation flows. The `App.jsx` file serves as the central hub for route configuration, incorporating authentication logic to protect routes and guide user navigation.

## Application Routing (`App.jsx`)

The `frontend/src/App.jsx` file is responsible for setting up the main routing structure of the application. It imports all necessary page components and uses `react-router-dom`'s `Routes` and `Route` components to map paths to specific UI views. Crucially, it integrates the `useAuthStore` to implement authentication guards, ensuring users are directed to appropriate pages based on their login status.

Upon initial load, `App.jsx` performs an authentication check (`checkAuth`) to determine the user's login state. While this check is in progress, a loading spinner is displayed.

### Authentication-Based Routing Logic

Routes are configured to either render a page component directly or redirect the user using the `Navigate` component, depending on whether `authUser` (from `useAuthStore`) is present.

-   **Protected Routes:** `HomePage` and `ProfilePage` are accessible only to authenticated users. If an unauthenticated user tries to access `/` or `/profile`, they are redirected to `/login`.
-   **Public Routes (for unauthenticated users):** `SignUpPage` and `LoginPage` are accessible only to unauthenticated users. If an authenticated user tries to access `/signup` or `/login`, they are redirected to `/`.
-   **Always Accessible:** The `SettingsPage` is available to all users, regardless of their authentication status.

```jsx filename="frontend/src/App.jsx" showLineNumbers
import Navbar from './components/Navbar'
import { Routes, Route, Navigate } from 'react-router-dom'
import { useEffect } from 'react'
import HomePage from './pages/HomePage'
import SignUpPage from './pages/SignUpPage'
import LoginPage from './pages/LoginPage'
import SettingsPage from './pages/SettingsPage'
import ProfilePage from './pages/ProfilePage'
import { useThemeStore } from './store/useThemeStore'
import { useAuthStore } from './store/useAuthStore';
import { Loader } from 'lucide-react'
import { Toaster } from 'react-hot-toast'

const App = () => {
  const { authUser, checkAuth, isCheckingAuth, onlineUsers } = useAuthStore();
  const { theme } = useThemeStore();
  useEffect(() => {
    checkAuth();
  }, [checkAuth]);

  if(isCheckingAuth && !authUser) return (
      <div className='flex items-center justify-center h-screen'>
        <Loader className='size-10 animate-spin' />
      </div>
  )

  return (
    <div className='' data-theme={theme}>
      <Navbar />
      <Toaster />
      <Routes>
        <Route path='/' element={authUser ? <HomePage />: <Navigate to='/login' />} />
        <Route path='/signup' element={ !authUser ? <SignUpPage />: <Navigate to='/' />} />
        <Route path='/login' element={!authUser ? <LoginPage />: <Navigate to='/' />} />
        <Route path='/settings' element={<SettingsPage />} />
        <Route path='/profile' element={authUser ? <ProfilePage />: <Navigate to='/login' />} />
      </Routes>
    </div>
  )
}

export default App
```

### Routing Flow Diagram

The following diagram illustrates the primary routing logic based on user authentication status:

````mermaid
graph TD
    A[Start Application] --> B{Is User Authenticated?};
    B -- Yes --> C{Authenticated Routes};
    B -- No --> D{Unauthenticated Routes};

    C -- / (Home) --> E[HomePage];
    C -- /signup --> F[Redirect to /];
    C -- /login --> G[Redirect to /];
    C -- /settings --> H[SettingsPage];
    C -- /profile --> I[ProfilePage];

    D -- / (Home) --> J[Redirect to /login];
    D -- /signup --> K[SignUpPage];
    D -- /login --> L[LoginPage];
    D -- /settings --> M[SettingsPage];
    D -- /profile --> N[Redirect to /login];

    style A fill:#f9f,stroke:#333,stroke-width:2px;
    style B fill:#add8e6,stroke:#333,stroke-width:2px;
    style C fill:#90ee90,stroke:#333,stroke-width:2px;
    style D fill:#ffcccb,stroke:#333,stroke-width:2px;
    style E fill:#fff,stroke:#333,stroke-width:1px;
    style F fill:#fff,stroke:#333,stroke-width:1px;
    style G fill:#fff,stroke:#333,stroke-width:1px;
    style H fill:#fff,stroke:#333,stroke-width:1px;
    style I fill:#fff,stroke:#333,stroke-width:1px;
    style J fill:#fff,stroke:#333,stroke-width:1px;
    style K fill:#fff,stroke:#333,stroke-width:1px;
    style L fill:#fff,stroke:#333,stroke-width:1px;
    style M fill:#fff,stroke:#333,stroke-width:1px;
    style N fill:#fff,stroke:#333,stroke-width:1px;
```

## Frontend Page Components

Each route renders a specific page component that encapsulates the UI and logic for that view:

-   **`HomePage.jsx`**: The main chat interface, displayed after a user logs in. It includes the `Sidebar`, `ChatContainer`, and `FriendsBox` components.
    [Source](https://github.com/shinymack/Chat-App-MERN/blob/main/frontend/src/pages/HomePage.jsx)
-   **`LoginPage.jsx`**: Provides the user login form and a link to the signup page.
    [Source](https://github.com/shinymack/Chat-App-MERN/blob/main/frontend/src/pages/LoginPage.jsx)
-   **`SignUpPage.jsx`**: Offers the user registration form.
    [Source](https://github.com/shinymack/Chat-App-MERN/blob/main/frontend/src/pages/SignUpPage.jsx)
-   **`ProfilePage.jsx`**: Displays the authenticated user's profile information and allows them to update their profile picture.
    [Source](https://github.com/shinymack/Chat-App-MERN/blob/main/frontend/src/pages/ProfilePage.jsx)
-   **`SettingsPage.jsx`**: Provides options for application settings, potentially including theme adjustments (though not fully shown in the snippet).
    [Source](https://github.com/shinymack/Chat-App-MERN/blob/main/frontend/src/pages/SettingsPage.jsx)

## Navigation Bar (`Navbar.jsx`)

The `frontend/src/components/Navbar.jsx` component serves as the primary navigation tool across the application. It is rendered globally in `App.jsx`, ensuring it's present on every page.

-   **Navigation Links:** Uses `Link` components from `react-router-dom` to facilitate client-side navigation without full page reloads.
-   **Dynamic Content:** The navigation bar dynamically displays "Profile" and "Logout" links only when a user is `authUser` (authenticated).
-   **Friends Box Toggle:** Includes a button to toggle the visibility of the `FriendsBox` using the `toggleFriendsBox` action from `useChatStore`.

```jsx filename="frontend/src/components/Navbar.jsx" showLineNumbers
import { Link } from "react-router-dom";
import { useAuthStore } from "../store/useAuthStore";
import { LogOut, MessageSquare, Settings, User, Users } from "lucide-react";
import { useChatStore } from "../store/useChatStore";

const Navbar = () => {
  const { logout, authUser } = useAuthStore();
  const { toggleFriendsBox } = useChatStore();

  return (
    <header
      className=" bg-base-100 border-b border-base-300 fixed w-full top-0 z-40
        backdrop-blur-lg bg-base-100/80"
    >
      <div className="container mx-auto px-4 h-16">
        <div className="flex items-center justify-between h-full">
          <div className="flex items-center gap-8">
            <Link
              to="/"
              className="flex items-center gap-2.5 hover:opacity-80 transition-all"
            >
              <div className="size-9 rounded-lg bg-primary/10 flex items-center justify-center">
                <MessageSquare className="size-5 text-primary"></MessageSquare>
              </div>
              <h1 className="text-lg font-bold">ShinyChat</h1>
            </Link>
          </div>
          <div className="flex items-center gap-4">
            <button className="btn btn-sm gap-2" onClick={toggleFriendsBox}>
              <Users className="size-5" />
              <span className="hidden sm:inline">Friends</span>
            </button>
            <Link to={"/settings"}
            className={`btn btn-sm gap-2 transition-colors`}>
            <Settings className="size-4"/>
            <span className="hidden sm:inline">Settings</span>

            </Link>
            {authUser && (
              <>
                <Link to={"/profile"} className={`btn btn-sm gap-2`}>
                  <User className="size-5" />
                  <span className="hidden sm:inline">Profile</span>
                </Link>

                <button className="btn btn-sm flex gap-2 items-center" onClick={logout}>
                  <LogOut className="size-5" />
                  <span className="hidden sm:inline">Logout</span>
                </button>
              </>
            )}
          </div>
        </div>
      </div>
    </header>
  );
};

export default Navbar;
```

### Source Files

-   **`App.jsx`**: [Source](https://github.com/shinymack/Chat-App-MERN/blob/main/frontend/src/App.jsx)
-   **`Navbar.jsx`**: [Source](https://github.com/shinymack/Chat-App-MERN/blob/main/frontend/src/components/Navbar.jsx)