---
title: 'Backend Architecture'
---

# Backend Architecture

The backend uses a three-tier architecture:

```mermaid
<!-- Mermaid diagram validated -->
graph LR
    A[Client (Frontend)] --> B(Express.js API);
    B --> C{MongoDB};
    B --> D[Socket.IO];
    E[Cloudinary] -.-> B;
```

* **Presentation Tier (Express.js API):**  Handles API requests from the frontend, manages routing, and interacts with the data and socket layers.  It's built with Express.js and utilizes middleware for handling cookies, sessions, and authentication.

* **Logic Tier (Controllers and Libs):**  Contains the business logic, including user authentication (email/password, Google OAuth), friend management, and message handling.  `cloudinary.js` handles image uploads.  `passport.config.js` configures authentication strategies.

* **Data Tier (MongoDB):**  Stores user data, friend relationships, and chat messages.  Mongoose is used as an ODM (Object Data Modeling) layer.

* **Real-time Communication (Socket.IO):** Enables real-time message delivery using Socket.IO.