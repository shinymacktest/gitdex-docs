---
title: 'Data Models'
---

# Data Models

The application uses two main MongoDB models:

## User Model

The `User` model represents a user in the chat application.  It includes fields such as:

* `username`: The user's unique username.
* `email`: The user's email address.
* `password`: The user's hashed password (for email/password authentication).
* `googleId`: The user's Google ID (for Google OAuth authentication).
* `profilePic`: URL of the user's profile picture.
* `friends`: An array of ObjectIds referencing other `User` documents.
* `friendRequests`: An array of ObjectIds representing users who have sent friend requests.
* `sentRequests`: An array of ObjectIds representing users to whom friend requests have been sent.
* `authProvider`: String indicating whether the user signed up with email/password or Google.

## Message Model

The `Message` model represents a chat message:

* `senderId`: ObjectId referencing the `User` document of the message sender.
* `receiverId`: ObjectId referencing the `User` document of the message receiver.
* `text`: The text content of the message.
* `image`: URL of the image (if any) sent with the message.
* `createdAt`: Timestamp indicating when the message was sent.

```mermaid
<!-- Mermaid diagram validated -->
classDiagram
    class User {
        -username : String
        -email : String
        -password : String
        -googleId : String
        -profilePic : String
        -friends : [ObjectId]
        -friendRequests : [ObjectId]
        -sentRequests : [ObjectId]
        -authProvider : String
    }
    class Message {
        -senderId : ObjectId
        -receiverId : ObjectId
        -text : String
        -image : String
        -createdAt : Date
    }
    User "1" -- "*" Message : sends
    User "1" -- "*" Message : receives
```