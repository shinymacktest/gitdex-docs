---
title: "Friend Management API"
description: "Detailed explanation of the friend management functionalities."
---
# Friend Management API

<TOC />

This section details the API endpoints for managing friends within the chat application.  These endpoints are located in [`backend/src/controllers/friend.controller.js`](https://github.com/shinymack/Chat-App-MERN/blob/main/backend/src/controllers/friend.controller.js) and are routed through `/api/friends`.

## API Endpoints

### Sending Friend Requests

The `/sendFriendRequest` endpoint allows users to send friend requests.  It requires the recipient's username or email in the request body.

```javascript
// Snippet from backend/src/controllers/friend.controller.js
export const sendFriendRequest = async (req, res) => {
    try {
        const { identifier } = req.body; 
        const senderId = req.user._id;
        // ...rest of the function...
    } catch (error) {
        // ...error handling...
    }
};
```

### Accepting Friend Requests

The `/acceptFriendRequest/:senderId` endpoint allows a user to accept a pending friend request.

```javascript
//Snippet from backend/src/controllers/friend.controller.js
export const acceptFriendRequest = async (req, res) => {
    try {
        const { senderId } = req.params; 
        const receiverId = req.user._id; 
        // ...rest of the function...
    } catch (error) {
        // ...error handling...
    }
};
```

### Rejecting Friend Requests

The `/rejectFriendRequest/:senderId` endpoint allows a user to reject a pending friend request.


### Removing Friends

The `/removeFriend/:friendId` endpoint allows a user to remove a friend from their friend list.

### Getting Friends List

The `/getFriends` endpoint retrieves the current user's friends list.

### Getting Pending Requests

The `/getPendingRequests` endpoint retrieves the current user's pending friend requests.

### Getting Sent Requests

The `/getSentRequests` endpoint retrieves the friend requests sent by the current user.


````mermaid
graph TD
    A[User] --> B{Send Request};
    B -- Success --> C[Friend Request Sent];
    B -- Failure --> D[Error];
    E[User] --> F{Accept Request};
    F -- Success --> G[Friends];
    F -- Failure --> H[Error];
    I[User] --> J{Reject Request};
    J -- Success --> K[Request Rejected];
    J -- Failure --> L[Error];
    M[User] --> N{Remove Friend};
    N -- Success --> O[Friend Removed];
    N -- Failure --> P[Error];
```

Next: [3_message_handling.mdx]