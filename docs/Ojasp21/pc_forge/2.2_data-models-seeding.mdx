---
title: "Data Models and Seeding"
description: "Explains the data models used and how the database is seeded with initial data."
sidebar_position: 22
---

# Data Models and Seeding

This document outlines the data models used in the `pc_forge` application and describes how the database is seeded with initial data. Understanding these aspects is crucial for contributing to the project, debugging issues, or extending its functionality.

## Data Models

The application utilizes Mongoose to define the structure of data stored in MongoDB. Two key data models are `User` and `Part`.

### User Model

The `User` model, defined in `backend/models/User.js`, represents a user account within the application. It stores user's email, full name, and password.

```javascript title="backend/models/User.js"
import mongoose from "mongoose";

const userSchema = new mongoose.Schema(
  {
    email: {
      type: String,
      required: true,
      unique: true,
    },
    fullName: {
      type: String,
      required: true,
    },
    password: {
      type: String,
      required: true,
      minlength: 6,
    },
  },
  { timestamps: true }
);

const User = mongoose.model("User", userSchema);

export default User;
```

Key features:

*   **Email:**  A unique identifier for each user.  The `unique: true` property ensures no two users can have the same email address.
*   **FullName:** Stores the user's full name.
*   **Password:** Stores the user's password. The `minlength: 6` property enforces a minimum password length.
*   **Timestamps:** Mongoose automatically adds `createdAt` and `updatedAt` fields to track when the user was created and last updated.

[View on GitHub](https://github.com/Ojasp21/pc_forge/blob/main/backend/models/User.js)

### Part Model

The `Part` model, defined in `backend/models/Part.js`, represents a component for building a PC, such as a CPU, GPU, or RAM.

```javascript title="backend/models/Part.js"
import mongoose from "mongoose";

const { Schema } = mongoose;

const partSchema = new Schema({
  category: { type: String, required: true },
  title: { type: String, required: true },
  price: { type: String, required: true },
  rating: { type: String, required: true },
  link: { type: String, required: true },
  image_url: { type: String, required: true },
  details: { type: Schema.Types.Mixed },
});

const Part = mongoose.model("Part", partSchema);
export default Part;
```

Key attributes:

*   **Category:**  Specifies the type of part (e.g., "CPU", "GPU", "Motherboard").
*   **Title:**  The name of the part.
*   **Price:**  The price of the part.
*   **Rating:**  The rating of the part.
*   **Link:**  A link to the part's product page.
*   **Image\_url:**  A URL to the part's image.
*   **Details:**  A flexible field for storing additional details about the part. The `Schema.Types.Mixed` type allows storing data of any type in this field.

[View on GitHub](https://github.com/Ojasp21/pc_forge/blob/main/backend/models/Part.js)

## Database Seeding

The `seed.js` file populates the database with initial data for parts. This is useful for development and testing purposes, as it provides a consistent set of data to work with.

```javascript title="backend/seed.js"
// const mongoose = require('mongoose');
// const Part = require('./models/Part');

import mongoose from "mongoose";
import Part from "./models/Part.js";
import Accessories from "./models/Accessories.js";

mongoose.connect('mongodb+srv://akashkawle2995:mongodb2995@cluster0.85no6.mongodb.net/pcforge?retryWrites=true&w=majority&appName=Cluster0')
  .then(() => {
    console.log('Connected to MongoDB');
  })
  .catch((err) => {
    console.error('Database connection error:', err);
  });
const seedParts = async () => {
  try {

    // await Part.deleteMany({ category: "Keyboard"});
    // console.log("Existing parts removed.");

    const parts =[
        {
            "title": "Logitech G435 Light Speed and Lightweight Gaming Bluetooth Wireless Over Ear Headphones with Mic, 18H Battery, Compatible for Dolby Atmos, Pc, Ps4, Ps5, Mobile - (Black)",
            "price": "5,495",
            "rating": "3.9 out of 5 stars",
            "link": "https://www.amazon.in/sspa/click?ie=UTF8&spc=MTo0MzM1NDM5OTIyNzc4NzE2OjE3MzgzNDAwMjg6c3BfYXRmOjMwMDQ1Nzg3OTc2NDYzMjo6MDo6&url=%2FLogitech-G435-Lightspeed-Bluetooth-Wireless%2Fdp%2FB09GFYV9YJ%2Fref%3Dsr_1_1_sspa%3Fdib%3DeyJ2IjoiMSJ9.emjpkmLAXJb47aExK_UN7-sX9T9ArnPsq4nvrttjtss4DkQtCXRpdmPBrkWqrBwTU3J8hPfSjUeq5adb4KIfim2ttxW5nHTBWYL6IGhpSCOa8k1rgIW-od0E24Sgk6BgSpk1m_ikcUn6Ll7UC5j1ugjhPkD4RkQeY7fWX6U6lzFrWMdxVH4_WnGeqJoKgcJUaJGuluXGyHC2U6-ZMgZe2HcfGKgN26wJPeH7Tkg8Onc.IsvpEG98i4vAm6TStBQ6LFWoOzv09pr6UUUT4jc8QsE%26dib_tag%3Dse%26keywords%3Dlogitech%2Bheadphones%26nsdOptOutParam%3Dtrue%26qid%3D1738340028%26sr%3D8-1-spons%26sp_csd%3Dd2lkZ2V0TmFtZT1zcF9hdGY%26psc%3D1",
            "image_url": "https://m.media-amazon.com/images/I/81bQEkMevBL._AC_UY218_.jpg",
            "category": "Headphones"
        },
        {
            "title": "Logitech G733 Lightspeed Wireless Gaming Headset with Suspension Over Ear Headband, LIGHTSYNC RGB, Blue VO!CE mic Technology and PRO-G Audio Drivers - Black",
            "price": "14,995",
            "rating": "4.3 out of 5 stars",
            "link": "https://www.amazon.in/sspa/click?ie=UTF8&spc=MTo0MzM1NDM5OTIyNzc4NzE2OjE3MzgzNDAwMjg6c3BfYXRmOjIwMDc5MDIzMjk2MjA0OjowOjo&url=%2FLogitech-Lightspeed-Suspension-LIGHTSYNC-Technology%2Fdp%2FB08HNCG8WQ%2Fref%3Dsr_1_2_sspa%3Fdib%3DeyJ2IjoiMSJ9.emjpkmLAXJb47aExK_UN7-sX9T9ArnPsq4nvrttjtss4DkQtCXRpdmPBrkWqrBwTU3J8hPfSjUeq5adb4KIfim2ttxW5nHTBWYL6IGhpSCOa8k1rgIW-od0E24Sgk6BgSpk1m_ikcUn6Ll7UC5j1ugjhPkD4RkQeY7fWX6U6lzFrWMdxVH4_WnGeqJoKgcJUaJGuluXGyHC2U6-ZMgZe2HcfGKgN26wJPeH7Tkg8Onc.IsvpEG98i4vAm6TStBQ6LFWoOzv09pr6UUUT4jc8QsE%26dib_tag%3Dse%26keywords%3Dlogitech%2Bheadphones%26nsdOptOutParam%3Dtrue%26qid%3D1738340028%26sr%3D8-2-spons%26sp_csd%3Dd2lkZ2V0TmFtZT1zcF9hdGY%26psc%3D1",
            "image_url": "https://m.media-amazon.com/images/I/71xNjrzG69L._AC_UY218_.jpg",
            "category": "Headphones"
        },

            {
                "title": "HyperX Cloud Stinger 2 Core Gaming Headset PS, 3.5mm Wired Connection, 40mm Sound Drivers, Lightweight, Over-Ear, Swivel-to-Mute mic, PlayStation-Licensed, Soft Foam Ear Cushion, White, 275g, 6H9B5AA",
                "price": "3,690",
                "rating": "4.0 out of 5 stars",
                "link": "https://www.amazon.in/sspa/click?ie=UTF8&spc=MTo4MTczNzM4NDA3MzQ2Mjc6MTczODMzOTkzMzpzcF9hdGY6MzAwMjU5NjI5MTUwNDMyOjowOjo&url=%2FHyperX-Connection-Lightweight-PlayStation-Licensed-6H9B5AA%2Fdp%2FB0BDGMNF6V%2Fref%3Dsr_1_1_sspa%3Fdib%3DeyJ2IjoiMSJ9.EticCW57cQlKe1fiXCB_E6x8yp6o4pD-GZPffHyVWz1bEdvdAuuvY5lwY1OnhC7BKNSLgwEHJgCRVtR33PdUwiMOZJ7bNaRqG5qsqP-dXq-KYR3QKIXNKJVfgBq37H_aPdJQSx5CX4yLwSZnmTodvBIi5Zyz3PlghbsC88qTzfhBz9O1DJnR0h72svOPzs7Gdntkx4XRxHChOjPypLmQIhu0mPZENBJGYF6SYAKSEGU.rYfSwGgelD2vEwfbo6qowdCo9aNGcYrz2zo7uxh2gf8%26dib_tag%3Dse%26keywords%3Dgaming%2Bheadphones%26qid%3D1738339933%26sr%3D8-1-spons%26sp_csd%3Dd2lkZ2V0TmFtZT1zcF9hdGY%26psc%3D1",
                "image_url": "https://m.media-amazon.com/images/I/61GywIq-pwL._AC_UY218_.jpg",
                "category": "Headphones"
            },
            {
                "title": "HyperX Cloud Stinger 2 Core Essential PC Gaming Wired Headset, Lightweight Over-Ear Headset with mic, Swivel-to-Mute Function, 40mm Drivers (683L9AA, Black)",
                "price": "3,337",
                "rating": "3.9 out of 5 stars",
                "link": "https://www.amazon.in/sspa/click?ie=UTF8&spc=MTo4MTczNzM4NDA3MzQ2Mjc6MTczODMzOTkzMzpzcF9hdGY6MzAwMTQ1ODg3MDg0MDMyOjowOjo&url=%2FHyperX-Essential-Lightweight-Over-Ear-683L9AA%2Fdp%2FB0BCFKG49M%2Fref%3Dsr_1_2_sspa%3Fdib%3DeyJ2IjoiMSJ9.EticCW57cQlKe1fiXCB_E6x8yp6o4pD-GZPffHyVWz1bEdvdAuuvY5lwY1OnhC7BKNSLgwEHJgCRVtR33PdUwiMOZJ7bNaRqG5qsqP-dXq-KYR3QKIXNKJVfgBq37H_aPdJQSx5CX4yLwSZnmTodvBIi5Zyz3PlghbsC88qTzfhBz9O1DJnR0h72svOPzs7Gdntkx4XRxHChOjPypLmQIhu0mPZENBJGYF6SYAKSEGU.rYfSwGgelD2vEwfbo6qowdCo9aNGcYrz2zo7uxh2gf8%26dib_tag%3Dse%26keywords%3Dgaming%2Bheadphones%26qid%3D1738339933%26sr%3D8-2-spons%26sp_csd%3Dd2lkZ2V0TmFtZT1zcF9hdGY%26psc%3D1",
                "image_url": "https://m.media-amazon.com/images/I/71WXVepOnFL._AC_UY218_.jpg",
                "category": "Headphones"
            },
            {
                "title": "Ant Esports H520W World Of Warships Edition Lightweight Gaming Over Ear Wired Headphones with Mic| 3.5MM Jack |50 MM Drivers | Compatible with PC/ PS4 / Xbox One / Nintendo / Mobile (White)",
                "price": "749",
                "rating": "3.6 out of 5 stars",
                "link": "https://www.amazon.in/Ant-Esports-Nintendo-Computer-Warships/dp/B081Q7S6YX/ref=sr_1_8?dib=eyJ2IjoiMSJ9.EticCW57cQlKe1fiXCB_E6x8yp6o4pD-GZPffHyVWz1bEdvdAuuvY5lwY1OnhC7BKNSLgwEHJgCRVtR33PdUwiMOZJ7bNaRqG5qsqP-dXq-KYR3QKIXNKJVfgBq37H_aPdJQSx5CX4yLwSZnmTodvBIi5Zyz3PlghbsC88qTzfhBz9O1DJnR0h72svOPzs7Gdntkx4XRxHChOjPypLmQIhu0mPZENBJGYF6SYAKSEGU.rYfSwGgelD2vEwfbo6qowdCo9aNGcYrz2zo7uxh2gf8&dib_tag=se&keywords=gaming+headphones&qid=1738339933&sr=8-8",
                "image_url": "https://m.media-amazon.com/images/I/51g8jKlBg9L._AC_UY218_.jpg",
                "category": "Headphones"
            },
            {
                "title": "Ant Esports H530 Multi-Platform Pro RGB Gaming Headsetfor PC / PS4 / PS5 / Xbox One / Switch1 with mic, Black Red",
                "price": "999",
                "rating": "3.6 out of 5 stars",
                "link": "https://www.amazon.in/Ant-Esports-Gaming-Headset-H530/dp/B08D5ZK45K/ref=sr_1_18?dib=eyJ2IjoiMSJ9.EticCW57cQlKe1fiXCB_E6x8yp6o4pD-GZPffHyVWz1bEdvdAuuvY5lwY1OnhC7BKNSLgwEHJgCRVtR33PdUwiMOZJ7bNaRqG5qsqP-dXq-KYR3QKIXNKJVfgBq37H_aPdJQSx5CX4yLwSZnmTodvBIi5Zyz3PlghbsC88qTzfhBz9O1DJnR0h72svOPzs7Gdntkx4XRxHChOjPypLmQIhu0mPZENBJGYF6SYAKSEGU.rYfSwGgelD2vEwfbo6qowdCo9aNGcYrz2zo7uxh2gf8&dib_tag=se&keywords=gaming+headphones&qid=1738339933&sr=8-18",
                "image_url": "https://m.media-amazon.com/images/I/51eOGiQbsgL._AC_UY218_.jpg",
                "category": "Headphones"
            }
        ,

        {
                "title": "Logitech G435 Light Speed and Lightweight Gaming Bluetooth Wireless Over Ear Headphones with Mic, 18H Battery, Compatible for Dolby Atmos, Pc, Ps4, Ps5, Mobile - (Black)",
                "price": "5,495",
                "rating": "3.9 out of 5 stars",
                "link": "https://www.amazon.in/Logitech-G435-Lightspeed-Bluetooth-Wireless/dp/B09GFYV9YJ/ref=sr_1_5?dib=eyJ2IjoiMSJ9.emjpkmLAXJb47aExK_UN7-sX9T9ArnPsq4nvrttjtss4DkQtCXRpdmPBrkWqrBwTU3J8hPfSjUeq5adb4KIfim2ttxW5nHTBWYL6IGhpSCOa8k1rgIW-od0E24Sgk6BgSpk1m_ikcUn6Ll7UC5j1ugjhPkD4RkQeY7fWX6U6lzFrWMdxVH4_WnGeqJoKgcJUaJGuluXGyHC2U6-ZMgZe2HcfGKgN26wJPeH7Tkg8Onc.IsvpEG98i4vAm6TStBQ6LFWoOzv09pr6UUUT4jc8QsE&dib_tag=se&keywords=logitech+headphones&nsdOptOutParam=true&qid=1738340028&sr=8-5",
                "image_url": "https://m.media-amazon.com/images/I/81bQEkMevBL._AC_UY218_.jpg",
                "category": "Headphones"
            },
            {
                "title": "Logitech G435 Lightspeed and Bluetooth Wireless Over Ear Gaming Headphones - Lightweight with Dual mics, 18h Battery, Compatible with Dolby Atmos, PC, PS4, PS5, Mobile - White",
                "price": "4,999",
                "rating": "3.8 out of 5 stars",
                "link": "https://www.amazon.in/Logitech-G435-Lightspeed-Bluetooth-Wireless/dp/B09GFZCC7V/ref=sr_1_10?dib=eyJ2IjoiMSJ9.emjpkmLAXJb47aExK_UN7-sX9T9ArnPsq4nvrttjtss4DkQtCXRpdmPBrkWqrBwTU3J8hPfSjUeq5adb4KIfim2ttxW5nHTBWYL6IGhpSCOa8k1rgIW-od0E24Sgk6BgSpk1m_ikcUn6Ll7UC5j1ugjhPkD4RkQeY7fWX6U6lzFrWMdxVH4_WnGeqJoKgcJUaJGuluXGyHC2U6-ZMgZe2HcfGKgN26wJPeH7Tkg8Onc.IsvpEG98i4vAm6TStBQ6LFWoOzv09pr6UUUT4jc8QsE&dib_tag=se&keywords=logitech+headphones&nsdOptOutParam=true&qid=1738340028&sr=8-10",
                "image_url": "https://m.media-amazon.com/images/I/81WfRjLX93L._AC_UY218_.jpg",
                "category": "Headphones"
            }
        ]
    await Accessories.insertMany(parts);
    console.log("Database seeded with parts.");
    mongoose.connection.close();
  } catch (err) {
    console.error(err);
    mongoose.connection.close();
  }
};

seedParts();
```

The `seedParts` function performs the following steps:

1.  **Connects to MongoDB:** Establishes a connection to the MongoDB database using Mongoose.
2.  **Defines Part data:** An array of Part objects containing the information about each part to be added to the database.
3.  **Inserts Parts:** Uses the `Accessories.insertMany()` method to insert the array of part objects into the `Accessories` collection.
4.  **Closes Connection:** Closes the database connection after seeding is complete.
5.  **Error Handling:** Implements a `try...catch` block to handle any errors that may occur during the seeding process.

[View on GitHub](https://github.com/Ojasp21/pc_forge/blob/main/backend/seed.js)

### Data Seeding Flow

The following diagram illustrates the data seeding flow:





```mermaid
graph TD
    A["Connect to MongoDB"] --> B{"Define Parts Array"};
    B --> C{"Accessories.insertMany(parts)"};
    C --> D["Close MongoDB Connection"];
    D --> E{"Log Seeding Completion"};
```



## Database Connection

The following snippet shows how the application connects to the MongoDB database:

```javascript title="backend/seed.js - Database Connection"
mongoose.connect('mongodb+srv://akashkawle2995:mongodb2995@cluster0.85no6.mongodb.net/pcforge?retryWrites=true&w=majority&appName=Cluster0')
  .then(() => {
    console.log('Connected to MongoDB');
  })
  .catch((err) => {
    console.error('Database connection error:', err);
  });
```

This code uses the `mongoose.connect()` method to connect to a MongoDB Atlas instance. It handles both successful connections and connection errors.  **Note:** It's strongly advised to store database credentials securely using environment variables instead of hardcoding them in the source code.

[View on GitHub](https://github.com/Ojasp21/pc_forge/blob/main/backend/seed.js)

## Key Integration Points

*   **Mongoose Models:** The `User` and `Part` models serve as the foundation for interacting with data in the application. Any modifications or extensions to the data structure should be reflected in these models.
*   **Database Seeding:**  The `seed.js` script is essential for initializing the database with sample data. Regularly updating this script with new parts or categories will enhance the user experience during development and testing.
*   **Data Validation:** Mongoose provides built-in data validation capabilities. Leveraging these features in the models ensures data integrity and prevents invalid data from being stored in the database.

## Data Model Relationships

The current data models are relatively independent. However, future enhancements could introduce relationships between them.  For example, a "User" could have a "wishlist" containing multiple "Part" entries. This would involve modifying the schemas to include references to other models.





```mermaid
graph TD
A["Component"] --> B["Service"]
C --> B
```


[View on GitHub](https://github.com/Ojasp21/pc_forge/blob/main/backend/models/)
```