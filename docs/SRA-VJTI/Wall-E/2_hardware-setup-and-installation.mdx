---
title: "Hardware Setup and Installation"
description: "Instructions for setting up the hardware and installing necessary software and dependencies."
sidebar_position: 2
---
 # Hardware Setup and Installation

This section provides detailed instructions for setting up the hardware and installing the necessary software and dependencies for the Wall-E project. The installation process varies based on the operating system: Windows, Linux, and macOS.

## Windows Installation

The Windows installation involves downloading and installing the ESP-IDF (Espressif IoT Development Framework).

### Step 1: Download the ESP-IDF Installer

Download the ESP-IDF installer from [here](https://dl.espressif.com/dl/esp-idf/?idf=5.2). Download the offline version as indicated by the arrow in the image.
[View on GitHub](https://github.com/SRA-VJTI/Wall-E/blob/main/Installations.md)

<p align="center">
  <img src="./documentation/Assets/Installation/0.png">
</p>

### Step 2: Run the Installer

Run the downloaded `.exe` file. Accept the agreement and click "Next >".

<p align="center">
  <img src="./documentation/Assets/Installation/1.png">
</p>

On the next screen, click "Next >".

<p align="center">
  <img src="./documentation/Assets/Installation/2.png">
</p>

Keep the default installation path and click "Next >".

<p align="center">
  <img src="./documentation/Assets/Installation/3.png">
</p>

### Step 3: Select Components

In the "Select Components" section, keep the default settings and click "Next >".

<p align="center">
  <img src="./documentation/Assets/Installation/4.png">
</p>

### Step 4: Install the Software

In the "Ready to Install" section, click "Install." This process may take a few minutes. After installation, click "Next >".

<p align="center">
  <img src="./documentation/Assets/Installation/5.png">
</p>

### Step 5: Finish Installation

Make sure all checkboxes are marked before clicking "Finish."

<p align="center">
  <img src="./documentation/Assets/Installation/6.png">
</p>

### Step 6: Completion

After clicking "Finish," you should see the following window, indicating successful installation.

<p align="center">
    <img src="./documentation/Assets/Installation/7.png">
</p>

### Step 7: Open ESP-IDF 5.2 PowerShell

Open the ESP-IDF 5.2 PowerShell shortcut on your desktop.

<p align="center">
  <img src="./documentation/Assets/Installation/esp-idf.jpeg">
</p>

### Step 8: Clone the Wall-E Git Repository

In the ESP-IDF Command Prompt, clone the Wall-E repository. It is recommended to create a "Projects" directory in your home directory.

```powershell
cd ~
mkdir Projects
cd Projects
git clone https://github.com/SRA-VJTI/Wall-E --recursive --depth 1
cd Wall-E
```
[View on GitHub](https://github.com/SRA-VJTI/Wall-E/blob/main/Installations.md)

<p align="center">
  <img src="./documentation/Assets/Installation/8.png">
</p>

**Pro Tip**: Use `cd ~/Projects/Wall-E` to navigate to the Wall-E directory, which contains all the necessary code.

## Linux Installation

For Linux, the installation uses a shell script to automate the process.

### Step 1: Download the Installation Script

First, ensure that `curl` is installed on your system. Then, use `curl` to download the installation script.

```bash
cd $HOME
curl https://raw.githubusercontent.com/SRA-VJTI/Wall-E/refs/heads/master/wall_e_install.sh -o $HOME/wall_e_install.sh
```
[View on GitHub](https://github.com/SRA-VJTI/Wall-E/blob/main/Installations.md)

<p align="center">
  <img src="./documentation/Assets/Installation/9.png">
</p>

### Step 2: Execute the Installation Script

Execute the following commands to install the required tools and clone the Wall-E repository.

```bash
chmod +x $HOME/wall_e_install.sh
./wall_e_install.sh && source $HOME/."${SHELL#${SHELL%/*}/}"rc
```
[View on GitHub](https://github.com/SRA-VJTI/Wall-E/blob/main/Installations.md)

<p align="center">
  <img src="./documentation/Assets/Installation/13.png">
</p>

## macOS Installation

The macOS installation process is similar to Linux, using a script for automated installation.

### STEP 1 : Opening The Terminal

Open the terminal. You can do this by pressing `Command + Space` and then typing "terminal."
**Note:** If you're an M1 mac os user refer this [link](https://youtu.be/9W8rTTE1WEA) to open the terminal.

### STEP 2 : Installing the necessary file

Download and execute the installation script in your terminal.
```bash
curl https://raw.githubusercontent.com/SRA-VJTI/Wall-E/refs/heads/master/wall_e_install.sh -o wall_e_install.sh
sudo chmod +x wall_e_install.sh
./wall_e_install.sh
```
[View on GitHub](https://github.com/SRA-VJTI/Wall-E/blob/main/Installations.md)

**Note:** When prompted for a password, type it without it being visible and press "Return".

Test the hello_world example in the same terminal; if it runs without any errors, log out & log back in.
(Connect ESP32 to your device before running the below commands)
```sh
cd ~/esp/esp-idf/examples/get-started/hello_world
idf.py flash monitor
```
### STEP 4 : Going to the cloned Wall-E repository

After the installation script runs, the Wall-E repository will be cloned to your home directory. Navigate to this directory to start building examples.

```bash
cd $HOME
cd Wall-E
```
[View on GitHub](https://github.com/SRA-VJTI/Wall-E/blob/main/Installations.md)

## Commands

This section outlines the basic procedure for compiling and flashing code onto the ESP32.

### Step 1: Start a Project

Navigate to your desired project directory.

*   **Linux/macOS:**
    ```bash
    get_idf # To use esp-idf commands
    ```
    [View on GitHub](https://github.com/SRA-VJTI/Wall-E/blob/main/Installations.md)

    <p align="center">
      <img src="./documentation/Assets/Installation/16.jpeg">
    </p>

    ```bash
    cd ~/esp
    cp -r ~/esp/esp-idf/examples/get-started/hello_world .
    ls
    ```
    [View on GitHub](https://github.com/SRA-VJTI/Wall-E/blob/main/Installations.md)
    <p align="center">
      <img src="./documentation/Assets/Installation/14.jpeg">
    </p>

*   **Windows:**
    ```powershell
    cd ~/Projects/Wall-E/1_led_blink
    ```
    [View on GitHub](https://github.com/SRA-VJTI/Wall-E/blob/main/Installations.md)

### Step 2: Connect Your Device

Connect your ESP32 board to your computer and identify the serial port.

*   **Linux:** `/dev/tty`
*   **macOS:** `/dev/cu`
*   **Windows:** `eg: COM1`

To check the port on Windows, go to Device Manager.

<p align="center">
  <img src="./documentation/Assets/Installation/17.jpg">
</p>

If "Ports (COM & LPT)" is not visible, follow the steps [here](https://support-bradyid.force.com/s/article/Ports-COM-LPT-Not-Showing-in-Device-Manager)

### Step 3: Configure

Configure your project.

*   **Linux/macOS:**

    ```bash
    cd ~/esp/esp-idf/examples/get-started/hello_world #Navigating to the file
    idf.py set-target esp32 #Command for Setting the Target
    idf.py menuconfig # Command for Opening the Configuration Menu
    ```
    [View on GitHub](https://github.com/SRA-VJTI/Wall-E/blob/main/Installations.md)
*   **Windows:**

    ```powershell
    idf.py set-target esp32 #Command for Setting the Target
    idf.py menuconfig #Command for Opening the Configuration
    ```
    [View on GitHub](https://github.com/SRA-VJTI/Wall-E/blob/main/Installations.md)

If the previous steps have been executed correctly, your screen will show this:

<p align="center">
  <img src="./documentation/Assets/project-configuration1.png">
</p>

### Step 4: Build the Project

Build the project.

```bash
idf.py build #Command for building the code
```

[View on GitHub](https://github.com/SRA-VJTI/Wall-E/blob/main/Installations.md)

This will compile the application and generate binaries.

<p align="center">
  <img src="./documentation/Assets/build.png">
</p>

### Step 5: Flash onto the Device

Flash the binaries to your ESP32 board.

```bash
idf.py -p PORT flash
```
[View on GitHub](https://github.com/SRA-VJTI/Wall-E/blob/main/Installations.md)

*   **Linux:**
    *   `PORT` - `/dev/ttyUSB0` (`idf.py -p /dev/ttyUSB0 flash`)
*   **macOS:**
    *   `PORT` - `/dev/cu.usbserial-0001` (`idf.py -p /dev/cu.usbserial-0001 flash`)
*   **Windows:**
    *   `PORT` - `COM1` (`idf.py -p COM1 flash`)

The port number can vary. Note: In case you are unable to flash, press and hold the Boot button on the ESP32 while executing the flash command.

### Step 6: Monitor Output

To view the output from the ESP32, use the following command after flashing:

```bash
idf.py flash monitor
```
[View on GitHub](https://github.com/SRA-VJTI/Wall-E/blob/main/Installations.md)

## Validation and Testing

The project includes automated tests to ensure the integrity of the installation process. These tests are run using GitHub Actions.

### Test Installation Script Workflow

This workflow is triggered on pushes to the `master` branch and pull requests targeting the `master` branch, specifically when changes are made to the `wall_e_install.sh` script or the workflow file itself. It tests the installation script on multiple operating systems and configurations.
```yaml
name: test-install-script

concurrency:
  group: ${{ github.workflow }}-${{ github.head_ref || github.ref }}
  cancel-in-progress: true

on:
  push:
    branches:
      - master
    paths:
      - '.github/workflows/test-install-script.yml'
      - 'wall_e_install.sh'
  pull_request:
    branches:
      - master
    paths:
      - '.github/workflows/test-install-script.yml'
      - 'wall_e_install.sh'

jobs:
  linux:
    strategy:
      fail-fast: false
      matrix:
        include:
          - name: Ubuntu 22.04
            host_runner: ubuntu-latest
            package_manager: apt
            docker_image: ubuntu:22.04
          - name: Ubuntu 20.04
            host_runner: ubuntu-latest
            package_manager: apt
            docker_image: ubuntu:20.04
          - name: Arch Latest
            host_runner: ubuntu-latest
            package_manager: pacman
            docker_image: archlinux:latest


    name: ${{ matrix.name }}
    runs-on: ${{ matrix.host_runner }}
    container:
      image: ${{ matrix.docker_image }}

    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: Install ESP-IDF
        run: |
          bash wall_e_install.sh

  macos:
    strategy:
      matrix:
        include:
          - name: MacOS-latest
            host_runner: macos-latest
    name: ${{ matrix.name }}
    runs-on: ${{ matrix.host_runner }}

    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: Install ESP-IDF
        run: |
          brew uninstall --ignore-dependencies python3
          brew cleanup --prune=1 -s
          sudo rm -rf /Library/Frameworks/Python.framework/Versions/
          brew install python@3.10
          bash wall_e_install.sh
```

[View on GitHub](https://github.com/SRA-VJTI/Wall-E/blob/main/.github/workflows/test-install-script.yml)

The workflow defines jobs for different operating systems (Ubuntu and macOS) and uses Docker containers for consistent testing environments. The core step involves running the `wall_e_install.sh` script to install ESP-IDF and other dependencies.

### YAML Validation Workflow
This workflow validates the `test-install-script.yml` file for correct YAML syntax. This ensures that the installation testing workflow is configured correctly.
```yaml
name: Validate-YAML

on:
  push:
    branches:
      - master
    paths:
      - '.github/workflows/test-install-script.yml'
  pull_request:
    branches:
      - master
    paths:
      - '.github/workflows/test-install-script.yml'

jobs:
  validate-yaml:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Validate test-install-script.yml
        run: yamllint .github/workflows/test-install-script.yml
```

[View on GitHub](https://github.com/SRA-VJTI/Wall-E/blob/main/.github/workflows/validate-install-script.yml)

The workflow is triggered on pushes and pull requests to the `master` branch when changes are made to the `test-install-script.yml` file. It uses `yamllint` to validate the YAML syntax.

These workflows guarantee the installation scripts and configurations are robust and reliable across different platforms.