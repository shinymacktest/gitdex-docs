---
title: "Frontend Utilities & Constants"
description: "Covers helper functions, API client configuration, and shared constants used across the frontend."
---

# Frontend Utilities & Constants

<TOC />

This section details the core frontend utilities, API client configuration, and shared constants that are essential for building and maintaining the application's user interface and interactions. These components promote reusability, maintainability, and ensure consistency across the codebase.

### API Client Configuration (`frontend/src/lib/axios.js`)

The `axios.js` file configures a custom Axios instance for making API requests to the backend. It dynamically sets the base URL based on the environment (`development` or production) and ensures that credentials (like cookies) are sent with each request.

```javascript
import axios from "axios";

export const axiosInstance = axios.create({
    baseURL: import.meta.env.MODE == "development" ? "http://localhost:5001/api": "/api",
    withCredentials: true,
});
```

-   **`baseURL`**: Automatically prefixes requests with `http://localhost:5001/api` in development or `/api` in production, simplifying API calls.
-   **`withCredentials: true`**: Crucial for sending HTTP cookies with cross-origin requests, which is necessary for session management and authentication.

[Source](https://github.com/shinymack/Chat-App-MERN/blob/main/frontend/src/lib/axios.js)

### General Utilities (`frontend/src/lib/utils.js`)

The `utils.js` file houses various helper functions used throughout the frontend. These functions encapsulate common logic, making the codebase cleaner and easier to manage.

```javascript
export function formatMessageTime(date) {
    return new Date(date).toLocaleTimeString("en-US", {
        year: "numeric",
        month: "short",
        day:"2-digit",
        hour: "2-digit",
        minute: "2-digit",
        hour12: true,
    });
}
```

-   **`formatMessageTime(date)`**: A utility function designed to format a given `Date` object into a readable time string, including year, month, day, hour, and minute, with AM/PM indication. This ensures consistent date/time display across the application, particularly for chat messages.

[Source](https://github.com/shinymack/Chat-App-MERN/blob/main/frontend/src/lib/utils.js)

### Shared Constants (`frontend/src/constants/index.js`)

This file defines application-wide constants, promoting a single source of truth for values that do not change during runtime.

```javascript
export const THEMES = [
    "light",
    "dark",
    "cupcake",
    "bumblebee",
    "emerald",
    "corporate",
    // ... many more themes
    "dim",
    "nord",
    "sunset",
];
```

-   **`THEMES`**: An array containing a comprehensive list of available UI themes, likely used for theme switching functionality (e.g., powered by DaisyUI). This centralizes theme management and simplifies theme selection logic.

[Source](https://github.com/shinymack/Chat-App-MERN/blob/main/frontend/src/constants/index.js)

### Reusable UI Components (`frontend/src/components/AuthImagePattern.jsx`)

This component provides a consistent visual background for authentication-related pages, displaying a decorative pattern and customizable text.

```javascript
const AuthImagePattern = ({ title, subtitle }) => {
    return (
      <div className="hidden lg:flex items-center justify-center bg-base-200 p-12">
        <div className="max-w-md text-center">
          <div className="grid grid-cols-3 gap-3 mb-8">
            {[...Array(9)].map((_, i) => (
              <div
                key={i}
                className={`aspect-square rounded-2xl bg-primary/10 ${
                  i % 2 === 0 ? "animate-pulse" : ""
                }`}
              />
            ))}
          </div>
          <h2 className="text-2xl font-bold mb-4">{title}</h2>
          <p className="text-base-content/60">{subtitle}</p>
        </div>
      </div>
    );
  };

  export default AuthImagePattern;
```

-   **`AuthImagePattern`**: A React component that renders a visually appealing pattern with a customizable `title` and `subtitle`. It's designed for authentication pages (login, signup) to provide a consistent brand experience. The component uses Tailwind CSS for styling and includes a subtle pulse animation on some pattern elements.

[Source](https://github.com/shinymack/Chat-App-MERN/blob/main/frontend/src/components/AuthImagePattern.jsx)

### Example Usage: Login Page (`frontend/src/pages/LoginPage.jsx`)

The `LoginPage.jsx` file demonstrates the practical application of several frontend utilities and components. It uses the `AuthImagePattern` for its visual layout, interacts with an authentication store (which internally uses `axiosInstance`), and constructs a dynamic Google authentication URL.

```javascript
import { useState } from "react"
import { useAuthStore } from "../store/useAuthStore";
// ... other imports like Eye, EyeOff, Loader2, Mail, Lock, MessageSquare
import AuthImagePattern from "../components/AuthImagePattern";
import { FcGoogle } from "react-icons/fc";

const LoginPage = () => {
  const [showPassword, setShowPassword] = useState(false);
  const [formData, setFormData] = useState({ /* ... */ });
  const { login, isLoggingIn } = useAuthStore();

  const handleSubmit = async (e) => {
    e.preventDefault();
    login(formData); // Uses the login function from auth store
  }
  const backendDomain = import.meta.env.VITE_BACKEND_URL;
  const googleAuthUrl = `${backendDomain}/api/auth/google`; // Dynamic URL construction

  return (
    <div className="h-screen grid lg:grid-cols-2">
      {/* ... Left Side - Form ... */}
      <AuthImagePattern
        title={"Welcome back!"}
        subtitle={"Sign in to continue your conversations and catch up with your messages."}
      />
    </div>
  )
}

export default LoginPage
```

-   **Integration of `AuthImagePattern`**: The `LoginPage` renders `AuthImagePattern` on the right side, passing specific `title` and `subtitle` props to customize its content.
-   **Authentication Flow**: The `login` function (imported from `useAuthStore`) handles user authentication, likely using the `axiosInstance` internally to send credentials to the backend.
-   **Dynamic Google Auth URL**: The `googleAuthUrl` is constructed using an environment variable (`VITE_BACKEND_URL`), demonstrating how constants and environment configurations are used to interact with backend services.

[Source](https://github.com/shinymack/Chat-App-MERN/blob/main/frontend/src/pages/LoginPage.jsx)

### Frontend Utilities & Components Overview

The diagram below illustrates how `LoginPage` integrates the `AuthImagePattern` component and conceptually interacts with the authentication store, which relies on `axiosInstance` for API communication.

````mermaid
graph TD
    A[LoginPage] --> B(AuthImagePattern);
    A --> C{useAuthStore (login)};
    C --> D[axiosInstance];
    A --> E[Google Auth Endpoint (backend)];

    subgraph User Interface
        A
        B
    end

    subgraph Core Services
        C
        D
    end

    subgraph External Interactions
        E
    end
```